{% extends 'restaurateur/restaurant/base/base.html' %}

{% block main %}
    <a class="uk-button uk-button-secondary uk-margin-small-bottom"
       href="{% url 'restaurant_edit' restaurant_id=restaurant.id %}">Настройки</a>
    <a class="uk-button uk-button-secondary uk-margin-small-bottom" href="{% url 'restaurant_menu_create' restaurant_id=restaurant.id %}">Добавить
        позицию</a>
    <a class="uk-button uk-button-secondary uk-margin-small-bottom" href="{% url 'restaurant_add_category' restaurant_id=restaurant.id %}">Добавить
        категорию</a>
    <h1>Меню</h1>

    <hr>

    {% include 'base/restaurant_categories.html' %}

    {% if restaurant.has_no_category_products %}
    <hr>

    <h2>Без категории</h2>
    <div class="uk-grid uk-grid-small uk-child-width-1-1@s uk-child-width-1-2@m uk-child-width-1-3@l uk-grid-match"
         data-uk-grid>

        {% for product in restaurant.get_no_category_products %}
            <a class="ce-card-link" href="{% url 'restaurant_edit_product' restaurant_id=restaurant.id product_id=product.id %}">
                {% include 'base/product_card.html' %}
            </a>
        {% endfor %}
    </div>
    {% endif %}

    {% for category in restaurant.get_categories %}
        <hr>
        <h2 id="category{{ category.id }}">{{ category.title }}</h2>
        <div class="uk-grid uk-grid-small uk-child-width-1-1@s uk-child-width-1-2@m uk-child-width-1-3@l uk-grid-match"
             data-uk-grid>
            {% for product in category.get_products %}
                <a class="ce-card-link"
                   href="{% url 'restaurant_edit_product' restaurant_id=restaurant.id product_id=product.id %}">
                    {% include 'base/product_card.html' %}
                </a>
            {% endfor %}
        </div>
    {% endfor %}

{% endblock %}